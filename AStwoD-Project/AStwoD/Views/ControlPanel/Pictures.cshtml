@model List<AStwoD.Models.PictureModel>
@{
    ViewBag.Title = "Картинки";
    Layout = "~/Views/Shared/_ControlPanelLayout.cshtml";
}
@using(Html.BeginForm()){
<h2>Список изображений</h2>
<table class="table table-striped">
    <thead>
        <th>Название</th>
        <th></th>
        <th></th>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>@item.Name</td>
                <td>
                    <a href="#" title="просмотр"><i class="icon-pencil"></i></a>
                </td>
                <td>
                    <a href="#myModal" data-id="@item.ID" role="button" title="удалить" data-toggle="modal" class="remove"><i class="icon-remove-circle"></i></a>
                </td>
            </tr>
        }
    </tbody>
</table>


<!-- Modal -->
<div id="myModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h3 id="myModalLabel">AStwoD - Informer</h3>
    </div>
    <div class="modal-body">
        <p>Вы действительно хотите удалить изображение?!</p>
    </div>
    <div class="modal-footer">
        <button class="btn" data-dismiss="modal" id="PictureId" aria-hidden="true" onclick="$.get('/ControlPanel/DeletePicture?id=' + this.value, function() { location.reload(); });">Да!</button>
        <button class="btn btn-primary" class="close" data-dismiss="modal" aria-hidden="true">Нет, я ошибся!</button>
    </div>
</div>
<!--Modal -->

<!--скрипт наполняет модальное окно инф о удаляемых страницах / странице -->
<script> $(document).on("click", ".remove", function () {
     var curPictureId = $(this).data('id');
     $(".modal-footer #PictureId").val(curPictureId);
 });</script>

}

