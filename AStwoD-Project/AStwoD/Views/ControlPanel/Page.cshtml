@{
    ViewBag.Title = "Page";
    Layout = "~/Views/Shared/_ControlPanelLayout.cshtml";
}
<!--
<script type="text/javascript">

    function model(data) {
        this.title = ko.observable(data.title);
        this.name = ko.observable(data.name);
        this.content = ko.observable(data.content);
        this.parents = ko.observableArray();

        var mappedData = ko.utils.arrayMap(data.parents, function (parent) {
            return new Venue(parent.ID, parent.Title);
        });

        this.parents(mappedData);
        this.parents.unshift(new Parent(0, 'root'));
        this.selectedParents = ko.observable(this.parents()[0]);
    }

    var Parent = function (id, title) {
        this.id = id;
        this.title = title;
    };

    $(document).ready(function () {
        $.getJSON('/controlpanel/page', null, function (result) {
            ko.applyBindings(new model(result))
        });
    });</script>
-->

<h2>Добавление страницы</h2>

@using(Html.BeginForm())
{
<table class="table table-striped">
    <tr>
        <td>
            Заголовок страницы:
        </td>
        <td>
            <input type="text" data-bind="text: title" name="title"/>
        </td>
    </tr>
    <tr>
        <td>
            Имя для адресной строки:
        </td>
        <td>
            <input type="text" data-bind="text: name" name="name"/>
        </td>
    </tr>    
    <tr>
        <td>
            Родительская страница:
        </td>
        <td>
            <select data-bind="options: parents, optionsText: 'title', optionsValue: 'id', value: 'root'" name="parentId"></select>
        </td>
    </tr>
</table>
    <h4>Контент:</h4>
    <textarea rows="1" data-bind="text: content"></textarea>
<button class="btn btn-info">
    Сохранить
</button>
<input type="reset" value="Очистить" class="btn btn-warning" />
}